async function onIdle(astroId, _options, getHydrateCallback) {
  const cb = async () => {
    var _a, _b;
    const roots = document.querySelectorAll(`astro-root[uid="${astroId}"]`);
    const innerHTML = (_b = (_a = roots[0].querySelector(`astro-fragment`)) == null ? void 0 : _a.innerHTML) != null ? _b : null;
    const hydrate = await getHydrateCallback();
    for (const root of roots) {
      hydrate(root, innerHTML);
    }
  };
  if ("requestIdleCallback" in window) {
    window.requestIdleCallback(cb);
  } else {
    setTimeout(cb, 200);
  }
}
export {
  onIdle as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vc3JjL3J1bnRpbWUvY2xpZW50L2lkbGUudHMiXSwKICAibWFwcGluZ3MiOiAiQUFNQSxzQkFBcUMsU0FBaUIsVUFBMEIsb0JBQXdDO0FBQ3ZILFFBQU0sS0FBSyxZQUFZO0FBUHhCO0FBUUUsVUFBTSxRQUFRLFNBQVMsaUJBQWlCLG1CQUFtQjtBQUMzRCxVQUFNLFlBQVksa0JBQU0sR0FBRyxjQUFjLHNCQUF2QixtQkFBMEMsY0FBMUMsWUFBdUQ7QUFDekUsVUFBTSxVQUFVLE1BQU07QUFFdEIsZUFBVyxRQUFRLE9BQU87QUFDekIsY0FBUSxNQUFNO0FBQUE7QUFBQTtBQUloQixNQUFJLHlCQUF5QixRQUFRO0FBQ3BDLElBQUMsT0FBZSxvQkFBb0I7QUFBQSxTQUM5QjtBQUNOLGVBQVcsSUFBSTtBQUFBO0FBQUE7IiwKICAibmFtZXMiOiBbXQp9Cg==
